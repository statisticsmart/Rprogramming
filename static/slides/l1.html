<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>STA 326 2.0 Programming and Data Analysis with R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr Thiyanga Talagala" />
    <meta name="date" content="2020-02-11" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css/duke-blue.css" rel="stylesheet" />
    <link href="libs/remark-css/hygge-duke.css" rel="stylesheet" />
    <link rel="stylesheet" href="libs/cc-fonts.css" type="text/css" />
    <link rel="stylesheet" href="libs/figure-captions.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# STA 326 2.0 Programming and Data Analysis with R
## Lesson 1: Introduction to R
### Dr Thiyanga Talagala
### 2020-02-11

---



# What is R? 

- R is a software environment for statistical computing and graphics

- Language designers: **R**oss Ihaka and **R**obert Gentleman at the University of Auckland, New Zealand

- Parent language: S

- The latest R version 3.6.2 has been released on 2019-12-12

![description of the image](RobertandRoss.jpg)

---

# Why R?

- Free

- Powerful

---

background-image: url('renv.png')
background-position: center
background-size: contain

## R environment
---

background-image: url('rstudio1.png')
background-position: center
background-size: contain

## The RStudio IDE
---

background-image: url('rstudio2.png')
background-position: center
background-size: contain

## The RStudio IDE

.footer-note[.tiny[.green[Image Credit: ][Clastic Detritus ](https://clasticdetritus.com/2013/01/10/creating-data-plots-with-r/)]]
---

background-image: url('airport.jpg')
background-position: center
background-size: cover

.content-box-yellow[
## R and RStudio
]

.footer-note[.tiny[.green[Image Credit: ][Clastic Detritus ](https://clasticdetritus.com/2013/01/10/creating-data-plots-with-r/)]]
---


background-image: url('airport.jpg')
background-position: center
background-size: cover

.content-box-yellow[
## R and RStudio

"If R were **an airplane**, RStudio would be **the airport**, providing many, many supporting services that make it easier for you, the pilot, to take off and go to awesome places. Sure, you can fly an airplane without an airport, but having those runways and supporting infrastructure is a game-changer." 

-- Julie Lowndes]

.footer-note[.tiny[.green[Image Credit: ][Clastic Detritus ](https://clasticdetritus.com/2013/01/10/creating-data-plots-with-r/)]]
---

## R Console


```r
7+1
```

```
[1] 8
```




```r
rnorm(10) 
```

```
 [1] -2.46783586 -0.25987643 -0.94954855  0.15557624 -0.10876578 -2.79326548
 [7] -0.13785256 -0.06533236 -0.36769617  0.05514023
```

--

## Variable assignment


```r
a &lt;- rnorm(10)
a
```

```
 [1]  2.08783770  0.26120258 -0.82238716 -1.35254111  0.29660585  0.24692550
 [7] -0.43499800  0.42871915 -0.05703841  1.06224784
```

--


```r
b &lt;- a*100
b
```

```
 [1]  208.783770   26.120258  -82.238716 -135.254111   29.660585   24.692550
 [7]  -43.499800   42.871915   -5.703841  106.224784
```

---



# Data permanency

- `ls()` can be used to display the names of the objects which are currently stored within R.

- The collection of objects currently stored is called the **workspace**


```r
ls()
```

```
[1] "a" "b"
```

--
- To remove objects the function `rm` is available

    - remove all objects `rm(list=ls())`
    
    - remove specific objects `rm(x, y, z)`
    
    

```r
rm(a)
ls()
```

```
[1] "b"
```


```r
rm(list=ls())
ls()
```

```
character(0)
```

---

background-image: url('project7.png')
background-position: center
background-size: cover

--
.pull-left[.full-width[.content-box-yellow[At the end of an R session, if **save**: the objects are written to a file called .RData in the current directory, and the command lines used in the session are saved to a file called .Rhistory]]]

---

background-image: url('p81.png')
background-position: center
background-size: cover

.pull-left[.full-width[.content-box-yellow[When R is started at later time **from the same directory** ]]]

---
background-image: url('p82.png')
background-position: center
background-size: cover

.pull-left[.full-width[.content-box-yellow[When R is started at later time **from the same directory** it reloads the **associated workspace** and **commands history.**]]]

---

background-image: url('project9.png')
background-position: center
background-size: cover

--
.pull-left[.full-width[.content-box-yellow[When R is started at later time **from the same directory** it reloads the **associated workspace** and **commands history.**]]]

---

## Comment your code

- Each line of a comment should begin with the comment symbol and a single space: # . 


```r
rnorm(10) # This is a comment 
```

```
 [1]  0.8780079 -0.2245384 -0.3552551 -0.3678026  2.3654403  0.8078522
 [7] -0.9118764 -1.5533048 -0.7830719  0.7893993
```

```r
sum(1:10) # 1+2
```

```
[1] 55
```

---

## Style Guide

- Good coding style is like correct punctuation: you can manage without it, butitsuremakesthingseasiertoread.  -- Hadley Wickham


```r
sum(1:10)#Bad commenting style
```

```
[1] 55
```

```r
sum(1:10) # Good commenting style
```

```
[1] 55
```

- Also, use commented lines of - and = to break up your file into easily readable sub-sections.

```r
# Read data ----------------

# Plot data ----------------
```

To learn more read Hadley Wickham's [Style guide](http://adv-r.had.co.nz/Style.html).

---

## Objects in R

- R is an [object-oriented language](https://en.wikipedia.org/wiki/Object-oriented_programming).

--
- An object in R is anything (data structures, functions, etc., that can be assigned to a variable).

--

Let's take a look of some common types of objects.

--

1. .red[Data structures] are the ways of arranging data.

    - You can create objects, using the left pointing arrow &lt;-
--
1. .red[Functions] tell R to do something.

    - A function may be applied to an object.

    - Result of applying a function is usually an object too.

    - All function calls need to be followed by parentheses.


```r
a &lt;- 1:20 # data structure
sum(a) # sum is a function applied on a
```

```
[1] 210
```

```r
help.start() # Some functions work on their own.
```
---

# Getting help with functions and features

- R has inbuilt help facility


### Method 1

```r
help(rnorm)
```

- For a feature specified by special characters such as `for`, `if`, `[[`

```r
help("[[")
```

- Search the help files for a word or phrase.

```r
help.search(‘weighted mean’) 
```

### Method 2

```r
?rnorm
```

```r
??rnorm
```

---
background-image: url('dataStructures.png')
background-position: center
background-size: contain

## Data structures

.footer-note[.tiny[.green[Image Credit: ][venus.ifca.unican.es](http://venus.ifca.unican.es/Rintro/dataStruct.html)]]



---

background-image: url('dataStructures.png')
background-position: center
background-size: contain

## Data structures

.content-box-yellow[Data structures differ in terms of,

- Type of data they can hold

- How they are created

- Structural complexity

- Notation to identify and access individual elements
]

.footer-note[.tiny[.green[Image Credit: ][venus.ifca.unican.es](http://venus.ifca.unican.es/Rintro/dataStruct.html)]]



---
class: duke-green, center, middle

# 1. Vectors

---

# Vectors

- Vectors are one-dimensional arrays that can hold numeric data, character data, or logical data.

- Combine function c() is used to form the vector.

- Data in a vector must only be one type or mode (numeric, character, or logical). You can’t mix modes in the same vector.


## Vector assignment

```r
x &lt;- c(5, 6, 3, 1 , 100)
```

- assignment operator ('&lt;-'), '=' can be used as an alternative.

- `c()` function

.red[What will be the output of the following code?]

```r
y &lt;- c(x, 500, 600)
```

---
# Generating regular sequences

Integer sequence


```r
2:6
```

```
## [1] 2 3 4 5 6
```


```r
seq(2, 3, by=0.5)
```

```
## [1] 2.0 2.5 3.0
```

Repeat a vector


```r
rep(1:2, times=3)
```

```
## [1] 1 2 1 2 1 2
```

Repeat elements of a vector


```r
rep(1:2, each=3)
```

```
## [1] 1 1 1 2 2 2
```

---
## Vector arithmetic




```r
y+2
```

```
## [1]   7   8   5   3 102 502 602
```

---

The operations are performed element by element

.red[What will be the output of the following code?]

```r
first &lt;- c(1, 2, 3, 4)
second &lt;- c(10, 100)
first * second
```
---

# Other vector operations

- Please see the [cheatsheet](/pdf/baser.pdf) and course materials STA Data Analysis II

---
class: inverse, center, middle
# Your turn

```r
ausdec2019 &lt;- c()
ausdec2018 &lt;- c(, NA)
```
---

# How to create this type of beautiful graphs? Let's discuss this at 



---

# Types

Integers or floating point numbers


```r
vec1 &lt;- c(1.2, 1.5, 1.6)
class(vec1)
```

```
## [1] "numeric"
```

Boolean values (TRUE or FALSE)


```r
vec2 &lt;- c(TRUE, TRUE, FALSE)
class(vec2)
```

```
## [1] "logical"
```

Character strings


```r
vec3 &lt;- c("male", "male", "female")
class(vec3)
```

```
## [1] "character"
```

---
class: duke-orange, center, middle

# 2. Matrices
---
# Matrix operations

Create a matrix


```r
x &lt;- matrix(1:6, ncol=3); x
```

```
##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6
```

Select a row/column


```r
x[1, ] # select the 1st row
```

```
## [1] 1 3 5
```



```r
x[, 1] # select the 1st column
```

```
## [1] 1 2
```

Select an element


```r
x[2, 3]
```

```
## [1] 6
```
---

# Matrix operations (cont.)

Transpose


```r
t(x)
```

```
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6
```

Matrix multiplication


```r
y &lt;- matrix(seq(10, 60, by=10), nrow=3)
z &lt;- x %*% y
z
```

```
##      [,1] [,2]
## [1,]  220  490
## [2,]  280  640
```

Find x in: m*x=n

```r
solve(m, n)
```
---
class: duke-orange, center, middle

# Your turn

---

class: duke-softblue, center, middle

# 3. Data Frames

---

# Create a data frame

### Create your own dataframe


```r
sta &lt;- data.frame(id=101:103, marks = c(90, 80, 60), grade=c("A+", "A", "C"))
sta
```

```
##    id marks grade
## 1 101    90    A+
## 2 102    80     A
## 3 103    60     C
```

### Built-in dataframes


```r
data(iris)
```


.full-width[.content-box-blue[Use `help` function to find more about the iris dataset.]]

---

# `iris` dataset

---
class: duke-softblue, center, middle

# Your turn

class: duke-orange, center, middle

---
class: duke-purple, center, middle

# 4. Lists
---

---

---
class: center, middle

Slides available at: hellor.netlify.com

[CC BY-NC license](https://creativecommons.org/licenses/by-nc/4.0/)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
